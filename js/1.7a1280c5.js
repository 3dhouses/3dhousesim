(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0fe8":function(e,o,t){function r(e,o){let t=new BABYLON.Scene(e),r=new BABYLON.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/3,75,new BABYLON.Vector3(0,0,4.5),t);r.attachControl(o,!0);new BABYLON.HemisphericLight("hemiLight",new BABYLON.Vector3(5,10,0),t);let n=function(e,o){return new BABYLON.Vector3(e,0,o)},s=function(e,o){this.width=e,this.height=o,this.left=0},h=function(e,o){this.door=e,this.left=o};var p=function(e,o){this.width=e,this.height=o,this.left=0,this.bottom=0},a=function(e,o,t){this.window=e,this.left=o,this.top=t},i=function(e,o,t){this.corner=e,this.doorSpaces=o||[],this.windowSpaces=t||[]},c=function(e,o,t,r,n){var s,h=[],p=[],a=[],i=[],c=r.interiorUV||new BABYLON.Vector4(0,0,1,1),u=r.exteriorUV||new BABYLON.Vector4(0,0,1,1),w=r.interiorColor||new BABYLON.Color4(1,1,1,1),l=r.exteriorColor||new BABYLON.Color4(1,1,1,1),x=r.interior||!1;x||e.push(e[0]);var d=[],y=[],B=[],z=[],f=[],g=[],L=[],S=[],O=0,A=0,N=BABYLON.Vector3.Zero(),V=BABYLON.Vector3.Zero(),Y=e.length;if(2===Y){e[1].corner.subtractToRef(e[0].corner,N);let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o)),d[1]=e[1].corner,y[1]=e[1].corner.add(t.scale(o))}else if(Y>2){for(var v=0;v<Y-1;v++){e[v+1].corner.subtractToRef(e[v].corner,V),O=Math.PI-Math.acos(BABYLON.Vector3.Dot(N,V)/(N.length()*V.length())),A=BABYLON.Vector3.Cross(V,N).normalize().y;let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[v]=e[v].corner,y[v]=e[v].corner.add(t.scale(o)).add(N.scale(A*o/Math.tan(O/2))),N=V.clone()}if(x){let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[Y-1]=e[Y-1].corner,y[Y-1]=e[Y-1].corner.add(t.scale(o)),e[1].corner.subtractToRef(e[0].corner,N),t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize(),N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o))}else{e[1].corner.subtractToRef(e[0].corner,V),O=Math.PI-Math.acos(BABYLON.Vector3.Dot(N,V)/(N.length()*V.length())),A=BABYLON.Vector3.Cross(V,N).normalize().y;let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o)).add(N.scale(A*o/Math.tan(O/2))),d[Y-1]=d[0],y[Y-1]=y[0]}}for(v=0;v<Y;v++)B.push(new BABYLON.Vector3(d[v].x,t,d[v].z)),z.push(new BABYLON.Vector3(y[v].x,t,y[v].z));var m=0;for(v=0;v<Y-1;v++)m=Math.max(d[v+1].subtract(d[v]).length(),m);var M,C,b,P,T,R,D,U,_,I,Z=t,E=BABYLON.Vector3.Zero(),k=BABYLON.Vector3.Zero();for(v=0;v<Y-1;v++){e[v+1].corner.subtractToRef(e[v].corner,E),P=E.length(),E.normalize(),k.x=E.z,k.z=-1*E.x,T=y[v+1].subtract(y[v]).length(),I=T-P;e[v].doorSpaces&&e[v].doorSpaces.sort(pe);var q=e[v].doorSpaces.length;M=[],M.push(new BABYLON.Vector2(0,0));for(var H=0;H<q;H++)M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left,0)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left,e[v].doorSpaces[H].door.height)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left+e[v].doorSpaces[H].door.width,e[v].doorSpaces[H].door.height)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left+e[v].doorSpaces[H].door.width,0));M.push(new BABYLON.Vector2(P,0)),M.push(new BABYLON.Vector2(P,t)),M.push(new BABYLON.Vector2(0,t)),C=new BABYLON.PolygonMeshBuilder("",M,n);for(var j=e[v].windowSpaces.length,F=[],Q=0;Q<j;Q++){var $=[];$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left,t-e[v].windowSpaces[Q].top-e[v].windowSpaces[Q].window.height)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left+e[v].windowSpaces[Q].window.width,t-e[v].windowSpaces[Q].top-e[v].windowSpaces[Q].window.height)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left+e[v].windowSpaces[Q].window.width,t-e[v].windowSpaces[Q].top)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left,t-e[v].windowSpaces[Q].top)),F.push($)}for(var G=0;G<F.length;G++)C.addHole(F[G]);b=C.wallBuilder(e[v],e[v+1]);let r=h.length/3;C._points.elements.forEach((function(e){U=c.x+e.x*(c.z-c.x)/m,_=c.y+e.y*(c.w-c.y)/t,a.push(U,_),i.push(w.r,w.g,w.b,w.a)})),h=h.concat(b.positions),s=h.length/3,p=p.concat(b.indices.map((function(e){return e+r}))),D=b.positions.slice(12*(q+1)),R=b.positions.slice(3,3*(4*q+1));for(var J=[],K=[],X=0;X<R.length/12;X++){var W=[],ee=[];for(H=0;H<4;H++)W.push(new BABYLON.Vector3(R[3*H+12*X],R[3*H+12*X+1],R[3*H+12*X+2])),R[3*H+12*X]+=o*k.x,R[3*H+12*X+2]+=o*k.z,ee.push(new BABYLON.Vector3(R[3*H+12*X],R[3*H+12*X+1],R[3*H+12*X+2]));J.push(W),K.push(ee)}f.push(J),g.push(K);var oe=[],te=[];for(X=0;X<D.length/12;X++){var re=[],ne=[];for(H=0;H<4;H++)re.push(new BABYLON.Vector3(D[3*H+12*X],D[3*H+12*X+1],D[3*H+12*X+2])),D[3*H+12*X]+=o*k.x,D[3*H+12*X+2]+=o*k.z,ne.push(new BABYLON.Vector3(D[3*H+12*X],D[3*H+12*X+1],D[3*H+12*X+2]));oe.push(re),te.push(ne)}L.push(oe),S.push(te),b.positions=[],b.positions.push(y[v].x,y[v].y,y[v].z),b.positions=b.positions.concat(R),b.positions.push(y[v+1].x,y[v+1].y,y[(v+1)%Y].z),b.positions.push(z[v+1].x,z[v+1].y,z[(v+1)%Y].z),b.positions.push(z[v].x,z[v].y,z[v].z),b.positions=b.positions.concat(D),C._points.elements.forEach((function(e){U=0==e.x?u.x:P-e.x<1e-6?u.x+(I+e.x)*(u.z-u.x)/(m+I):u.x+(.5*I+e.x)*(u.z-u.x)/(m+I),_=u.y+e.y*(u.w-u.y)/t,a.push(U,_)})),r=h.length/3,h=h.concat(b.positions),b.indices.reverse(),p=p.concat(b.indices.map((function(e){return e+r})));var se=q,he=0;se>0&&(r=h.length/3,h.push(d[v].x,d[v].y,d[v].z),h.push(y[v].x,y[v].y,y[v].z),h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].left/m,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].left/m,u.y),p.push(r,r+2,r+3,r+3,r+1,r),r=h.length/3,h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),p.push(r,r+1,r+3,r,r+3,r+2),r=h.length/3,h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y+(u.w-u.y)*o/Z),p.push(r+2,r+1,r+3,r+2,r,r+1),r=h.length/3,h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),p.push(r,r+3,r+2,r,r+1,r+3)),se--,he++;while(se>0)r=h.length/3,h.push(f[v][he-1][3].x,f[v][he-1][3].y,f[v][he-1][3].z),h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(g[v][he-1][3].x,g[v][he-1][3].y,g[v][he-1][3].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*(e[v].doorSpaces[he].left-(e[v].doorSpaces[he-1].left+e[v].doorSpaces[he-1].door.width))/m/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*(e[v].doorSpaces[he].left-(e[v].doorSpaces[he-1].left+e[v].doorSpaces[he-1].door.width))/m,u.y+(u.w-u.y)*o/Z),p.push(r,r+1,r+3,r+3,r+2,r),r=h.length/3,h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),p.push(r,r+1,r+3,r,r+3,r+2),r=h.length/3,h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y+(u.w-u.y)*o/Z),p.push(r+2,r+1,r+3,r+2,r,r+1),r=h.length/3,h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),p.push(r,r+3,r+2,r,r+1,r+3),se--,he++;he--,r=h.length/3,q>0?(h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(d[v+1].x,d[v+1].y,d[v+1].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),h.push(y[v+1].x,y[v+1].y,y[v+1].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*(P-(e[v].doorSpaces[he].left+e[v].doorSpaces[he].door.width))/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*(P-(e[v].doorSpaces[he].left+e[v].doorSpaces[he].door.width))/m,u.y+(u.w-u.y)*o/Z)):(h.push(d[v].x,d[v].y,d[v].z),h.push(d[v+1].x,d[v+1].y,d[v+1].z),h.push(y[v].x,y[v].y,y[v].z),h.push(y[v+1].x,y[v+1].y,y[v+1].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*P/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*P/m,u.y+(u.w-u.y)*o/Z)),p.push(r,r+1,r+3,r+3,r+2,r);for(let t=0;t<L[v].length;t++)r=h.length/3,h.push(L[v][t][3].x,L[v][t][3].y,L[v][t][3].z),h.push(L[v][t][0].x,L[v][t][0].y,L[v][t][0].z),h.push(S[v][t][3].x,S[v][t][3].y,S[v][t][3].z),h.push(S[v][t][0].x,S[v][t][0].y,S[v][t][0].z),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x,u.y),p.push(r+1,r,r+3,r+2,r+3,r),r=h.length/3,h.push(L[v][t][0].x,L[v][t][0].y,L[v][t][0].z),h.push(L[v][t][1].x,L[v][t][1].y,L[v][t][1].z),h.push(S[v][t][0].x,S[v][t][0].y,S[v][t][0].z),h.push(S[v][t][1].x,S[v][t][1].y,S[v][t][1].z),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y),p.push(r+1,r,r+3,r+3,r,r+2),r=h.length/3,h.push(L[v][t][1].x,L[v][t][1].y,L[v][t][1].z),h.push(L[v][t][2].x,L[v][t][2].y,L[v][t][2].z),h.push(S[v][t][1].x,S[v][t][1].y,S[v][t][1].z),h.push(S[v][t][2].x,S[v][t][2].y,S[v][t][2].z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x),u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),p.push(r+1,r+2,r+3,r,r+2,r+1),r=h.length/3,h.push(L[v][t][2].x,L[v][t][2].y,L[v][t][2].z),h.push(L[v][t][3].x,L[v][t][3].y,L[v][t][3].z),h.push(S[v][t][2].x,S[v][t][2].y,S[v][t][2].z),h.push(S[v][t][3].x,S[v][t][3].y,S[v][t][3].z),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y+(u.w-u.y)*o/Z),p.push(r+3,r,r+2,r+1,r,r+3);r=h.length/3,h.push(B[v].x,B[v].y,B[v].z),h.push(B[v+1].x,B[v+1].y,B[v+1].z),h.push(z[v].x,z[v].y,z[v].z),h.push(z[v+1].x,z[v+1].y,z[v+1].z),U=u.x+.5*I*(u.z-u.x)/m,a.push(U,u.y+(u.w-u.y)*o/Z),U=u.x+(.5*I+P)*(u.z-u.x)/m,a.push(U,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*T/(m+I),u.y),p.push(r+1,r,r+3,r+2,r+3,r);for(X=s;X<h.length/3;X++)i.push(l.r,l.g,l.b,l.a);var pe=function(e,o){return e.left-o.left}}var ae=[];BABYLON.VertexData.ComputeNormals(h,p,ae),BABYLON.VertexData._ComputeSides(BABYLON.Mesh.FRONTSIDE,h,p,ae,a);var ie=new BABYLON.Mesh("custom",n),ce=new BABYLON.VertexData;return ce.positions=h,ce.indices=p,ce.normals=ae,ce.uvs=a,ce.colors=i,ce.applyToMesh(ie),ie},u=[-32,-7.5,-12,-7.5,-12,-10.5,9,-10.5,9,-24,21,-24,21,-14,31,-14,31,16,0,16,0,20.5,-12,20.5,-12,16,-32,16],w=[];for(let ye=0;ye<u.length/2;ye++)w.push(new n(u[2*ye],u[2*ye+1]));var l=new s(18,8),x=new h(l,1),d=new s(3,6.6),y=new h(d,13.5),B=new h(d,.5),z=new h(d,1),f=(p=new p(4.5,5.5),new a(p,3.2,.5)),g=new a(p,3.75,.5),L=new a(p,2.75,.5),S=new a(p,6,.5),O=new a(p,19,.5),A=new a(p,25,.5),N=new a(p,3.75,.5),V=new a(p,7.75,.5),Y=[];for(let ye=0;ye<w.length;ye++)Y.push(new i(w[ye]));Y[2].windowSpaces=[f],Y[4].windowSpaces=[g],Y[6].windowSpaces=[L],Y[8].windowSpaces=[S,O,A],Y[10].windowSpaces=[N],Y[12].windowSpaces=[V],Y[0].doorSpaces=[x],Y[2].doorSpaces=[y],Y[9].doorSpaces=[B],Y[13].doorSpaces=[z];var v=.5,m=9,M=c(Y,v,m,{interiorUV:new BABYLON.Vector4(.167,0,1,1),exteriorUV:new BABYLON.Vector4(0,0,.16,1)},t);let C=new BABYLON.StandardMaterial("",t);C.diffuseTexture=new BABYLON.Texture("https://i.imgur.com/CGTCTfv.jpg",t),M.material=C;var b=[-12,16,-12,-7.5],P=[];for(let ye=0;ye<b.length/2;ye++)P.push(new n(b[2*ye],b[2*ye+1]));var T=[];for(let ye=0;ye<P.length;ye++)T.push(new i(P[ye]));let R=new h(d,19);T[0].doorSpaces=[R];var D=[9,-13.5,21,-13.5,21,-7.5,9,-7.5,9,-10.5],U=[];for(let ye=0;ye<D.length/2;ye++)U.push(new n(D[2*ye],D[2*ye+1]));var _=[];for(let ye=0;ye<U.length;ye++)_.push(new i(U[ye]));let I=new h(d,1.5);_[0].doorSpaces=[I],_[1].doorSpaces=[I];var Z=c(_,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);Z.material=C;var E=[15,16,15,0,24,0,26,3,26,16],k=[];for(let ye=0;ye<E.length/2;ye++)k.push(new n(E[2*ye],E[2*ye+1]));var q=[];for(let ye=0;ye<k.length;ye++)q.push(new i(k[ye]));let H=new h(d,2.4),j=new h(d,.2),F=new h(d,.2);q[1].doorSpaces=[H],q[2].doorSpaces=[j],q[3].doorSpaces=[F];var Q=c(q,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);Q.material=C;var $=[26,3,31,3],G=[];for(let ye=0;ye<$.length/2;ye++)G.push(new n($[2*ye],$[2*ye+1]));var J=[];for(let ye=0;ye<G.length;ye++)J.push(new i(G[ye]));let K=c(J,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);K.material=C;var X=[24,0,31,0],W=[];for(let ye=0;ye<X.length/2;ye++)W.push(new n(X[2*ye],X[2*ye+1]));var ee=[];for(let ye=0;ye<W.length;ye++)ee.push(new i(W[ye]));let oe=c(ee,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);oe.material=C;var te=[21,-7.5,21,0],re=[];for(let ye=0;ye<te.length/2;ye++)re.push(new n(te[2*ye],te[2*ye+1]));var ne=[];for(let ye=0;ye<re.length;ye++)ne.push(new i(re[ye]));let se=new h(d,2.25);ne[0].doorSpaces=[se];let he=c(ne,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);he.material=C;var pe=[0,-10.5,0,3],ae=[];for(let ye=0;ye<pe.length/2;ye++)ae.push(new n(pe[2*ye],pe[2*ye+1]));var ie=[];for(let ye=0;ye<ae.length;ye++)ie.push(new i(ae[ye]));let ce=c(ie,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);ce.material=C;var ue=[0,-2,-12,-2],we=[];for(let ye=0;ye<ue.length/2;ye++)we.push(new n(ue[2*ye],ue[2*ye+1]));var le=[];for(let ye=0;ye<we.length;ye++)le.push(new i(we[ye]));let xe=new h(d,8.5);le[0].doorSpaces=[xe];let de=c(le,v,m,{interiorUV:new BABYLON.Vector4(.2,0,1,1),exteriorUV:new BABYLON.Vector4(.2,0,1,1),interior:!0},t);return de.material=C,t}t("4e82"),t("26e9"),e.exports=r},"1fb0":function(e,o,t){function r(e,o){var t=new BABYLON.Scene(e),r=new BABYLON.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/3,75,new BABYLON.Vector3(0,0,4.5),t);r.attachControl(o,!0);new BABYLON.HemisphericLight("hemiLight",new BABYLON.Vector3(5,10,0),t);var n=function(e,o){return new BABYLON.Vector3(e,0,o)},s=function(e,o){this.width=e,this.height=o,this.left=0},h=function(e,o){this.door=e,this.left=o},p=function(e,o){this.width=e,this.height=o,this.left=0,this.bottom=0},a=function(e,o,t){this.window=e,this.left=o,this.top=t},i=function(e,o,t){this.corner=e,this.doorSpaces=o||[],this.windowSpaces=t||[]},c=function(e,o,t,r,n){var s,h=[],p=[],a=[],i=[],c=r.interiorUV||new BABYLON.Vector4(0,0,1,1),u=r.exteriorUV||new BABYLON.Vector4(0,0,1,1),w=r.interiorColor||new BABYLON.Color4(1,1,1,1),l=r.exteriorColor||new BABYLON.Color4(1,1,1,1),x=r.interior||!1;x||e.push(e[0]);var d=[],y=[],B=[],z=[],f=[],g=[],L=[],S=[],O=0,A=0,N=BABYLON.Vector3.Zero(),V=BABYLON.Vector3.Zero(),Y=e.length;if(2===Y){e[1].corner.subtractToRef(e[0].corner,N);let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o)),d[1]=e[1].corner,y[1]=e[1].corner.add(t.scale(o))}else if(Y>2){for(var v=0;v<Y-1;v++){e[v+1].corner.subtractToRef(e[v].corner,V),O=Math.PI-Math.acos(BABYLON.Vector3.Dot(N,V)/(N.length()*V.length())),A=BABYLON.Vector3.Cross(V,N).normalize().y;let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[v]=e[v].corner,y[v]=e[v].corner.add(t.scale(o)).add(N.scale(A*o/Math.tan(O/2))),N=V.clone()}if(x){let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[Y-1]=e[Y-1].corner,y[Y-1]=e[Y-1].corner.add(t.scale(o)),e[1].corner.subtractToRef(e[0].corner,N),t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize(),N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o))}else{e[1].corner.subtractToRef(e[0].corner,V),O=Math.PI-Math.acos(BABYLON.Vector3.Dot(N,V)/(N.length()*V.length())),A=BABYLON.Vector3.Cross(V,N).normalize().y;let t=new BABYLON.Vector3(N.z,0,-1*N.x).normalize();N.normalize(),d[0]=e[0].corner,y[0]=e[0].corner.add(t.scale(o)).add(N.scale(A*o/Math.tan(O/2))),d[Y-1]=d[0],y[Y-1]=y[0]}}for(v=0;v<Y;v++)B.push(new BABYLON.Vector3(d[v].x,t,d[v].z)),z.push(new BABYLON.Vector3(y[v].x,t,y[v].z));var m=0;for(v=0;v<Y-1;v++)m=Math.max(d[v+1].subtract(d[v]).length(),m);var M,C,b,P,T,R,D,U,_,I,Z=t,E=BABYLON.Vector3.Zero(),k=BABYLON.Vector3.Zero();for(v=0;v<Y-1;v++){e[v+1].corner.subtractToRef(e[v].corner,E),P=E.length(),E.normalize(),k.x=E.z,k.z=-1*E.x,T=y[v+1].subtract(y[v]).length(),I=T-P;e[v].doorSpaces&&e[v].doorSpaces.sort(pe);var q=e[v].doorSpaces.length;M=[],M.push(new BABYLON.Vector2(0,0));for(var H=0;H<q;H++)M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left,0)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left,e[v].doorSpaces[H].door.height)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left+e[v].doorSpaces[H].door.width,e[v].doorSpaces[H].door.height)),M.push(new BABYLON.Vector2(e[v].doorSpaces[H].left+e[v].doorSpaces[H].door.width,0));M.push(new BABYLON.Vector2(P,0)),M.push(new BABYLON.Vector2(P,t)),M.push(new BABYLON.Vector2(0,t)),C=new BABYLON.PolygonMeshBuilder("",M,n);for(var j=e[v].windowSpaces.length,F=[],Q=0;Q<j;Q++){var $=[];$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left,t-e[v].windowSpaces[Q].top-e[v].windowSpaces[Q].window.height)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left+e[v].windowSpaces[Q].window.width,t-e[v].windowSpaces[Q].top-e[v].windowSpaces[Q].window.height)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left+e[v].windowSpaces[Q].window.width,t-e[v].windowSpaces[Q].top)),$.push(new BABYLON.Vector2(e[v].windowSpaces[Q].left,t-e[v].windowSpaces[Q].top)),F.push($)}for(var G=0;G<F.length;G++)C.addHole(F[G]);b=C.wallBuilder(e[v],e[v+1]);let r=h.length/3;C._points.elements.forEach((function(e){U=c.x+e.x*(c.z-c.x)/m,_=c.y+e.y*(c.w-c.y)/t,a.push(U,_),i.push(w.r,w.g,w.b,w.a)})),h=h.concat(b.positions),s=h.length/3,p=p.concat(b.indices.map((function(e){return e+r}))),D=b.positions.slice(12*(q+1)),R=b.positions.slice(3,3*(4*q+1));for(var J=[],K=[],X=0;X<R.length/12;X++){var W=[],ee=[];for(H=0;H<4;H++)W.push(new BABYLON.Vector3(R[3*H+12*X],R[3*H+12*X+1],R[3*H+12*X+2])),R[3*H+12*X]+=o*k.x,R[3*H+12*X+2]+=o*k.z,ee.push(new BABYLON.Vector3(R[3*H+12*X],R[3*H+12*X+1],R[3*H+12*X+2]));J.push(W),K.push(ee)}f.push(J),g.push(K);var oe=[],te=[];for(X=0;X<D.length/12;X++){var re=[],ne=[];for(H=0;H<4;H++)re.push(new BABYLON.Vector3(D[3*H+12*X],D[3*H+12*X+1],D[3*H+12*X+2])),D[3*H+12*X]+=o*k.x,D[3*H+12*X+2]+=o*k.z,ne.push(new BABYLON.Vector3(D[3*H+12*X],D[3*H+12*X+1],D[3*H+12*X+2]));oe.push(re),te.push(ne)}L.push(oe),S.push(te),b.positions=[],b.positions.push(y[v].x,y[v].y,y[v].z),b.positions=b.positions.concat(R),b.positions.push(y[v+1].x,y[v+1].y,y[(v+1)%Y].z),b.positions.push(z[v+1].x,z[v+1].y,z[(v+1)%Y].z),b.positions.push(z[v].x,z[v].y,z[v].z),b.positions=b.positions.concat(D),C._points.elements.forEach((function(e){U=0==e.x?u.x:P-e.x<1e-6?u.x+(I+e.x)*(u.z-u.x)/(m+I):u.x+(.5*I+e.x)*(u.z-u.x)/(m+I),_=u.y+e.y*(u.w-u.y)/t,a.push(U,_)})),r=h.length/3,h=h.concat(b.positions),b.indices.reverse(),p=p.concat(b.indices.map((function(e){return e+r})));var se=q,he=0;se>0&&(r=h.length/3,h.push(d[v].x,d[v].y,d[v].z),h.push(y[v].x,y[v].y,y[v].z),h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].left/m,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].left/m,u.y),p.push(r,r+2,r+3,r+3,r+1,r),r=h.length/3,h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),p.push(r,r+1,r+3,r,r+3,r+2),r=h.length/3,h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y+(u.w-u.y)*o/Z),p.push(r+2,r+1,r+3,r+2,r,r+1),r=h.length/3,h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),p.push(r,r+3,r+2,r,r+1,r+3)),se--,he++;while(se>0)r=h.length/3,h.push(f[v][he-1][3].x,f[v][he-1][3].y,f[v][he-1][3].z),h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(g[v][he-1][3].x,g[v][he-1][3].y,g[v][he-1][3].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*(e[v].doorSpaces[he].left-(e[v].doorSpaces[he-1].left+e[v].doorSpaces[he-1].door.width))/m/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*(e[v].doorSpaces[he].left-(e[v].doorSpaces[he-1].left+e[v].doorSpaces[he-1].door.width))/m,u.y+(u.w-u.y)*o/Z),p.push(r,r+1,r+3,r+3,r+2,r),r=h.length/3,h.push(f[v][he][0].x,f[v][he][0].y,f[v][he][0].z),h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(g[v][he][0].x,g[v][he][0].y,g[v][he][0].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),p.push(r,r+1,r+3,r,r+3,r+2),r=h.length/3,h.push(f[v][he][1].x,f[v][he][1].y,f[v][he][1].z),h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(g[v][he][1].x,g[v][he][1].y,g[v][he][1].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].doorSpaces[he].door.width/m,u.y+(u.w-u.y)*o/Z),p.push(r+2,r+1,r+3,r+2,r,r+1),r=h.length/3,h.push(f[v][he][2].x,f[v][he][2].y,f[v][he][2].z),h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(g[v][he][2].x,g[v][he][2].y,g[v][he][2].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),a.push(u.x,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].doorSpaces[he].door.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),p.push(r,r+3,r+2,r,r+1,r+3),se--,he++;he--,r=h.length/3,q>0?(h.push(f[v][he][3].x,f[v][he][3].y,f[v][he][3].z),h.push(d[v+1].x,d[v+1].y,d[v+1].z),h.push(g[v][he][3].x,g[v][he][3].y,g[v][he][3].z),h.push(y[v+1].x,y[v+1].y,y[v+1].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*(P-(e[v].doorSpaces[he].left+e[v].doorSpaces[he].door.width))/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*(P-(e[v].doorSpaces[he].left+e[v].doorSpaces[he].door.width))/m,u.y+(u.w-u.y)*o/Z)):(h.push(d[v].x,d[v].y,d[v].z),h.push(d[v+1].x,d[v+1].y,d[v+1].z),h.push(y[v].x,y[v].y,y[v].z),h.push(y[v+1].x,y[v+1].y,y[v+1].z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*P/m,u.y),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*P/m,u.y+(u.w-u.y)*o/Z)),p.push(r,r+1,r+3,r+3,r+2,r);for(let t=0;t<L[v].length;t++)r=h.length/3,h.push(L[v][t][3].x,L[v][t][3].y,L[v][t][3].z),h.push(L[v][t][0].x,L[v][t][0].y,L[v][t][0].z),h.push(S[v][t][3].x,S[v][t][3].y,S[v][t][3].z),h.push(S[v][t][0].x,S[v][t][0].y,S[v][t][0].z),a.push(u.x+(u.z-u.x)*o/m,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x,u.y),p.push(r+1,r,r+3,r+2,r+3,r),r=h.length/3,h.push(L[v][t][0].x,L[v][t][0].y,L[v][t][0].z),h.push(L[v][t][1].x,L[v][t][1].y,L[v][t][1].z),h.push(S[v][t][0].x,S[v][t][0].y,S[v][t][0].z),h.push(S[v][t][1].x,S[v][t][1].y,S[v][t][1].z),a.push(u.x,u.y+(u.w-u.y)*o/Z),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y),p.push(r+1,r,r+3,r+3,r,r+2),r=h.length/3,h.push(L[v][t][1].x,L[v][t][1].y,L[v][t][1].z),h.push(L[v][t][2].x,L[v][t][2].y,L[v][t][2].z),h.push(S[v][t][1].x,S[v][t][1].y,S[v][t][1].z),h.push(S[v][t][2].x,S[v][t][2].y,S[v][t][2].z),a.push(u.x,u.y),a.push(u.x,u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),a.push(u.x+(u.z-u.x)*o/m,u.y),a.push(u.x+(u.z-u.x),u.y+(u.w-u.y)*e[v].windowSpaces[t].window.height/Z),p.push(r+1,r+2,r+3,r,r+2,r+1),r=h.length/3,h.push(L[v][t][2].x,L[v][t][2].y,L[v][t][2].z),h.push(L[v][t][3].x,L[v][t][3].y,L[v][t][3].z),h.push(S[v][t][2].x,S[v][t][2].y,S[v][t][2].z),h.push(S[v][t][3].x,S[v][t][3].y,S[v][t][3].z),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*e[v].windowSpaces[t].window.width/m,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y+(u.w-u.y)*o/Z),p.push(r+3,r,r+2,r+1,r,r+3);r=h.length/3,h.push(B[v].x,B[v].y,B[v].z),h.push(B[v+1].x,B[v+1].y,B[v+1].z),h.push(z[v].x,z[v].y,z[v].z),h.push(z[v+1].x,z[v+1].y,z[v+1].z),U=u.x+.5*I*(u.z-u.x)/m,a.push(U,u.y+(u.w-u.y)*o/Z),U=u.x+(.5*I+P)*(u.z-u.x)/m,a.push(U,u.y+(u.w-u.y)*o/Z),a.push(u.x,u.y),a.push(u.x+(u.z-u.x)*T/(m+I),u.y),p.push(r+1,r,r+3,r+2,r+3,r);for(X=s;X<h.length/3;X++)i.push(l.r,l.g,l.b,l.a);var pe=function(e,o){return e.left-o.left}}var ae=[];BABYLON.VertexData.ComputeNormals(h,p,ae),BABYLON.VertexData._ComputeSides(BABYLON.Mesh.FRONTSIDE,h,p,ae,a);var ie=new BABYLON.Mesh("custom",n),ce=new BABYLON.VertexData;return ce.positions=h,ce.indices=p,ce.normals=ae,ce.uvs=a,ce.colors=i,ce.applyToMesh(ie),ie},u=[-32,-7.5,-12,-7.5,-12,-10.5,9,-10.5,9,-24,21,-24,21,-14,31,-14,31,16,0,16,0,20.5,-12,20.5,-12,16,-32,16],w=[];for(let m=0;m<u.length/2;m++)w.push(new n(u[2*m],u[2*m+1]));let l=[[30,0],[10,90],[10,0],[5,0],[5,90],[5,90],[-50,0]],x=0,d=0,y=[[x,d]];const B=e=>2*e*Math.PI/360;l.map((e=>{x+=e[0]*Math.cos(B(e[1])),d+=e[0]*Math.sin(B(e[1])),y.push([x,d])})),w=[],y.map((e=>{w.push(new n(e[0],e[1]))}));var z=new s(18,8),f=(new h(z,1),new s(4,6.6)),g=new s(3,6.6),L=new h(f,2),S=(new h(g,13.5),new h(g,.5),new h(g,1),p=new p(4.5,5.5),new a(p,5,.5)),O=new a(p,20,.5),A=(new a(p,y[0][0],.5),new a(p,3.75,.5),new a(p,2.75,.5),new a(p,6,.5),new a(p,19,.5),new a(p,25,.5),new a(p,3.75,.5),new a(p,7.75,.5),[]);for(let m=0;m<w.length;m++)A.push(new i(w[m]));A[0].windowSpaces=[S,O],A[2].windowSpaces=[S],A[1].doorSpaces=[L];var N=.5,V=9,Y=c(A,N,V,{interiorUV:new BABYLON.Vector4(.167,0,1,1),exteriorUV:new BABYLON.Vector4(0,0,.16,1)},t);let v=new BABYLON.StandardMaterial("",t);return v.diffuseTexture=new BABYLON.Texture("https://i.imgur.com/CGTCTfv.jpg",t),Y.material=v,t}t("4e82"),t("26e9"),e.exports=r},8341:function(e,o,t){function r(e,o){var t=new BABYLON.Scene(e),r=new BABYLON.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/3,25,new BABYLON.Vector3(0,0,4.5),t);r.attachControl(o,!0);new BABYLON.HemisphericLight("hemiLight",new BABYLON.Vector3(5,10,0),t);var n=function(e,o){return new BABYLON.Vector3(e,0,o)},s=function(e,o){this.width=e,this.height=o,this.left=0},h=function(e,o){this.door=e,this.left=o},p=function(e,o){this.width=e,this.height=o,this.left=0,this.bottom=0},a=function(e,o,t){this.corner=e,this.doorSpaces=o||[],this.windowSpaces=t||[]},i=function(e,o,t,r){var n=[],s=0,h=0,p=BABYLON.Vector3.Zero();e[1].corner.subtractToRef(e[0].corner,p);var a=BABYLON.Vector3.Zero();e[2].corner.subtractToRef(e[1].corner,a);for(var i=e.length,c=0;c<=i;c++){s=Math.acos(BABYLON.Vector3.Dot(p,a)/(p.length()*a.length())),h=BABYLON.Vector3.Cross(a,p).normalize().y;let t=new BABYLON.Vector3(p.z,0,-1*p.x).normalize();p.normalize(),n[(c+1)%i]=e[(c+1)%i].corner.add(t.scale(o)).add(p.scale(h*o/Math.tan(s/2))),p=a.clone(),e[(c+3)%i].corner.subtractToRef(e[(c+2)%i].corner,a)}var u=[],w=[];for(c=0;c<i;c++)u.push(e[c].corner.x,e[c].corner.y,e[c].corner.z);for(c=0;c<i;c++)u.push(n[c].x,n[c].y,n[c].z);var l,x,d,y=u.length;for(c=0;c<y/3;c++)u.push(u[3*c]),u.push(t),u.push(u[3*c+2]);var B,z=BABYLON.Vector3.Zero(),f=BABYLON.Vector3.Zero();for(c=0;c<i;c++){e[(c+1)%i].corner.subtractToRef(e[c].corner,z),B=z.length(),z.normalize(),f.x=z.z,f.z=-1*z.x,e[c].doorSpaces&&e[c].doorSpaces.sort(Z);for(var g=e[c].doorSpaces.length,L=[],S=e[c].windowSpaces.length,O=0;O<S;O++){var A=[];A.push(new BABYLON.Vector2(e[c].windowSpaces[O].left,t-e[c].windowSpaces[O].top-e[c].windowSpaces[O].window.height)),A.push(new BABYLON.Vector2(e[c].windowSpaces[O].left+e[c].windowSpaces[O].window.width,t-e[c].windowSpaces[O].top-e[c].windowSpaces[O].window.height)),A.push(new BABYLON.Vector2(e[c].windowSpaces[O].left+e[c].windowSpaces[O].window.width,t-e[c].windowSpaces[O].top)),A.push(new BABYLON.Vector2(e[c].windowSpaces[O].left,t-e[c].windowSpaces[O].top)),L.push(A)}l=[],l.push(new BABYLON.Vector2(0,0));for(var N=0;N<g;N++)l.push(new BABYLON.Vector2(e[c].doorSpaces[N].left,0)),l.push(new BABYLON.Vector2(e[c].doorSpaces[N].left,e[c].doorSpaces[N].door.height)),l.push(new BABYLON.Vector2(e[c].doorSpaces[N].left+e[c].doorSpaces[N].door.width,e[c].doorSpaces[N].door.height)),l.push(new BABYLON.Vector2(e[c].doorSpaces[N].left+e[c].doorSpaces[N].door.width,0));l.push(new BABYLON.Vector2(B,0)),l.push(new BABYLON.Vector2(B,t)),l.push(new BABYLON.Vector2(0,t)),x=new BABYLON.PolygonMeshBuilder("",l,r);for(var V=0;V<L.length;V++)x.addHole(L[V]);d=x.wallBuilder(e[c],e[(c+1)%i]),d.positions.splice(3*(4*g+1),9),d.positions.splice(0,3);let n=u.length/3;u=u.concat(d.positions),w=w.concat(d.indices.map((function(e){return 0==e?c:e==4*g+1?(c+1)%i:e==4*g+2?(c+1)%i+2*i:e==4*g+3?c+2*i:e>4*g?e+n-4:e+n-1}))),y=u.length;for(var Y=n;Y<y/3;Y++)u.push(u[3*Y]+o*f.x,u[3*Y+1],u[3*Y+2]+o*f.z);d.indices.reverse(),w=w.concat(d.indices.map((function(e){return 0==e?c+i:e==4*g+1?(c+1)%i+i:e==4*g+2?(c+1)%i+3*i:e==4*g+3?c+3*i:e>4*g?e+n-4+4*(g+S):e+n-1+4*(g+S)})));var v=g,m=0,M=c,C=n+4*m,b=C+1,P=b+1,T=P+1,R=M+i,D=C+4*(g+S),U=b+4*(g+S),_=P+4*(g+S),I=T+4*(g+S);v>0&&(w.push(M,C,D,D,R,M),w.push(C,b,U,C,U,D),w.push(U,P,_,U,b,P),w.push(P,I,_,P,T,I)),v--,m++;while(v>0)M=T,C+=4,b+=4,P+=4,T+=4,R=I,D+=4,U+=4,_+=4,I+=4,w.push(M,C,D,D,R,M),w.push(C,b,U,C,U,D),w.push(U,P,_,U,b,P),w.push(P,I,_,P,T,I),v--,m++;g>0&&(M=T,R=I),w.push(M,(c+1)%i,(c+1)%i+i,R,M,(c+1)%i+i);var Z=function(e,o){return e.left-o.left}}for(c=0;c<i;c++)w.push(3*i+(c+1)%i,2*i+(c+1)%i,3*i+c,c+3*i,(c+1)%i+2*i,c+2*i);var E=[],k=[];BABYLON.VertexData.ComputeNormals(u,w,E),BABYLON.VertexData._ComputeSides(BABYLON.Mesh.FRONTSIDE,u,w,E,k);var q=new BABYLON.Mesh("custom",r),H=new BABYLON.VertexData;return H.positions=u,H.indices=w,H.normals=E,H.uvs=k,H.applyToMesh(q),q};let c=[-5,0,5,0,5,10,-5,10];var u=[];for(let B=0;B<c.length/2;B++)u.push(new n(c[2*B],c[2*B+1]));s=new s(1,2),new p(2.25,1.25);var w=[];for(let B=0;B<u.length;B++)w.push(new a(u[B],[new h(s,2)]));var l=.3,x=5,d=i(w,l,x,t);function y(e,o,r,n){var s=e.getVerticesData(BABYLON.VertexBuffer.NormalKind),h=e.getVerticesData(BABYLON.VertexBuffer.PositionKind);r=r||BABYLON.Color3.White(),n=n||t,o=o||1;for(var p=[],a=0;a<s.length;a+=3){var i=BABYLON.Vector3.FromArray(h,a),c=i.add(BABYLON.Vector3.FromArray(s,a).scaleInPlace(o));p.push([i.add(e.position),c.add(e.position)])}var u=BABYLON.MeshBuilder.CreateLineSystem("normalLines",{lines:p},n);return u.color=r,u}return y(d,2,new BABYLON.Color3(1,0,0)),t}t("4e82"),t("26e9"),e.exports=r},"839d":function(e,o){function t(e,o){let t=new BABYLON.Scene(e),r=new BABYLON.ArcRotateCamera("Camera",-Math.PI/2,Math.PI/3,25,new BABYLON.Vector3(0,0,4.5),t);r.attachControl(o,!0);new BABYLON.HemisphericLight("hemiLight",new BABYLON.Vector3(5,10,0),t);let n=function(e,o){return new BABYLON.Vector3(e,0,o)},s=function(e){this.corner=e},h=function(e,o,t,r){let n=[],s=0,h=0,p=BABYLON.Vector3.Zero();e[1].corner.subtractToRef(e[0].corner,p);let a=BABYLON.Vector3.Zero();e[2].corner.subtractToRef(e[1].corner,a);let i=e.length;for(var c=0;c<=i;c++){s=Math.acos(BABYLON.Vector3.Dot(p,a)/(p.length()*a.length())),h=BABYLON.Vector3.Cross(a,p).normalize().y;let t=new BABYLON.Vector3(p.z,0,-1*p.x).normalize();p.normalize(),n[(c+1)%i]=e[(c+1)%i].corner.add(t.scale(o)).add(p.scale(h*o/Math.tan(s/2))),p=a.clone(),e[(c+3)%i].corner.subtractToRef(e[(c+2)%i].corner,a)}let u=[],w=[];for(c=0;c<i;c++)u.push(e[c].corner.x,e[c].corner.y,e[c].corner.z);for(c=0;c<i;c++)u.push(n[c].x,n[c].y,n[c].z);for(c=0;c<i;c++)w.push(c,(c+1)%i,i+(c+1)%i,c,i+(c+1)%i,c+i);let l=u.length;for(c=0;c<l/3;c++)u.push(u[3*c]),u.push(t),u.push(u[3*c+2]);l=w.length;for(var x=0;x<l/3;x++)w.push(w[3*x+2]+2*i,w[3*x+1]+2*i,w[3*x]+2*i);for(c=0;c<i;c++)w.push(c,c+2*i,(c+1)%i+2*i,c,(c+1)%i+2*i,(c+1)%i),w.push((c+1)%i+3*i,c+3*i,c+i,(c+1)%i+i,(c+1)%i+3*i,c+i);let d=[],y=[];BABYLON.VertexData.ComputeNormals(u,w,d),BABYLON.VertexData._ComputeSides(BABYLON.Mesh.FRONTSIDE,u,w,d,y);let B=new BABYLON.Mesh("custom",r),z=new BABYLON.VertexData;return z.positions=u,z.indices=w,z.normals=d,z.uvs=y,z.applyToMesh(B),B},p=[-5,0,5,0,5,6,2,6,2,9,-5,9],a=[];for(let l=0;l<p.length/2;l++)a.push(new n(p[2*l],p[2*l+1]));let i=[[-5,0],[5,0],[5,6],[2,6],[2,9],[-5,9]];a=[],i.map((e=>{a.push(new n(e[0],e[1]))}));let c=[];for(let l=0;l<a.length;l++)c.push(new s(a[l]));let u=.3,w=5;h(c,u,w,t);return t}e.exports=t},"8b24":function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-page",{staticClass:"flex flex-center"},[t("canvas",{staticStyle:{position:"absolute",width:"100%",height:"100%",background:"transparent"},attrs:{id:"renderCanvas","touch-action":"none"}}),e._v("\n  Our Houses will be housed here... "+e._s(e.currentPlan)+"\n\n  "),t("nav-links",{attrs:{prevPlan:e.prevPlan,nextPlan:e.nextPlan}})],1)},n=[],s=(t("5319"),function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("q-page-sticky",{attrs:{position:"left",offset:[18,18]}},[t("q-btn",{attrs:{fab:"",icon:"navigate_before",color:"primary",to:e.prevPlan}},[t("q-tooltip",[e._v(" Previous plan ")])],1)],1),t("q-page-sticky",{attrs:{position:"right",offset:[18,18]}},[t("q-btn",{attrs:{fab:"",icon:"navigate_next",color:"primary",to:e.nextPlan}},[t("q-tooltip",[e._v(" Next plan ")])],1)],1)],1)}),h=[],p=t("93c5"),a=t.n(p),i={name:"navLinks",props:{nextPlan:{type:String,required:!0},prevPlan:{type:String,required:!0}},data(){return{plans:a.a.listPlans()}}},c=i,u=t("2877"),w=t("de5e"),l=t("9c40"),x=t("05c0"),d=t("eebe"),y=t.n(d),B=Object(u["a"])(c,s,h,!1,null,null,null),z=B.exports;y()(B,"components",{QPageSticky:w["a"],QBtn:l["a"],QTooltip:x["a"]});t("839d"),t("8341");var f=t("1fb0"),g=t.n(f),L=(t("0fe8"),t("633b"));let S,O;L["PolygonMeshBuilder"].prototype.wallBuilder=function(e,o){let t=[],r=o.corner.subtract(e.corner).normalize(),n=Math.acos(r.x);0!=r.z&&(n*=r.z/Math.abs(r.z)),this._points.elements.forEach((function(o){t.push(o.x*Math.cos(n)+e.corner.x,o.y,o.x*Math.sin(n)+e.corner.z)}));let s=[],h=earcut(this._epoints,this._eholes,2);for(var p=h.length;p>0;p--)s.push(h[p-1]);return{positions:t,indices:s}};var A={name:"PageIndex",components:{navLinks:z},created(){a.a.setVueObj(this),this.changeRoutes()},mounted(){this.changeRoutes(),S=document.getElementById("renderCanvas"),O=new L["Engine"](S,!0,{preserveDrawingBuffer:!0,stencil:!0});let e=g()(O,S);this.scene=e,this.showAxis(10),O.runRenderLoop((function(){e.render()})),window.addEventListener("resize",(function(){O.resize()}))},watch:{$route(e,o){let t=e.path.replace(/\//,"");this.changeRoutes(t)}},methods:{changeRoutes:function(e){this.currentPlan=a.a.nextPlan().current;let{current:o,next:t,prev:r}=a.a.nextPlan(e);this.currentPlan=o,this.nextPlan=t,this.prevPlan=r},showAxis(e){let o=this.scene,t=function(e,t,r){let n=new L["DynamicTexture"]("DynamicTexture",50,o,!0);n.hasAlpha=!0,n.drawText(e,5,40,"bold 36px Arial",t,"transparent",!0);let s=new L["Mesh"].CreatePlane("TextPlane",r,o,!0);return s.material=new L["StandardMaterial"]("TextPlaneMaterial",o),s.material.backFaceCulling=!1,s.material.specularColor=new L["Color3"](0,0,0),s.material.diffuseTexture=n,s},r=L["Mesh"].CreateLines("axisX",[new L["Vector3"].Zero,new L["Vector3"](e,0,0),new L["Vector3"](.95*e,.05*e,0),new L["Vector3"](e,0,0),new L["Vector3"](.95*e,-.05*e,0)],o);r.color=new L["Color3"](1,0,0);let n=t("X","red",e/10);n.position=new L["Vector3"](.9*e,-.05*e,0);let s=L["Mesh"].CreateLines("axisY",[new L["Vector3"].Zero,new L["Vector3"](0,e,0),new L["Vector3"](-.05*e,.95*e,0),new L["Vector3"](0,e,0),new L["Vector3"](.05*e,.95*e,0)],o);s.color=new L["Color3"](0,1,0);let h=t("Y","green",e/10);h.position=new L["Vector3"](0,.9*e,-.05*e);let p=L["Mesh"].CreateLines("axisZ",[new L["Vector3"].Zero,new L["Vector3"](0,0,e),new L["Vector3"](0,-.05*e,.95*e),new L["Vector3"](0,0,e),new L["Vector3"](0,.05*e,.95*e)],o);p.color=new L["Color3"](0,0,1);let a=t("Z","blue",e/10);a.position=new L["Vector3"](0,.05*e,.9*e)}},data(){return{plans:a.a.listPlans(),currentPlan:a.a.nextPlan().current,nextPlan:a.a.nextPlan().next,prevPlan:a.a.nextPlan().prev}}},N=A,V=t("9989"),Y=Object(u["a"])(N,r,n,!1,null,null,null);o["default"]=Y.exports;y()(Y,"components",{QPage:V["a"],QPageSticky:w["a"],QBtn:l["a"],QTooltip:x["a"]})},"93c5":function(e,o,t){t("5319");const r=["plan1","plan2","plan3","plan4"];class n{constructor(){}setVueObj(e){this.vueObj=e}listPlans(){return r}nextPlan(e){let o,t=window.location.href.match(/\/#.*/)[0].replace(/\/#\//,"");e&&(t=e),o=0===t.length?0:r.indexOf(t);let n=o+1,s=o-1;n>=r.length&&(n=0),s<0&&(s=r.length-1);let h={current:r[o],next:r[n],prev:r[s]};return h}previousPlan(){}}e.exports=new n}}]);